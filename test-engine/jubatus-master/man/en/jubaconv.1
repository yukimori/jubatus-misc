.\" Man page generated from reStructuredText.
.
.TH "JUBACONV" "1" " " "" "Jubatus"
.SH NAME
jubaconv \- jubaconv
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
jubaconv [options ...]
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
\fBjubaconv\fP is a tool to test your fv_converter configuration.
.sp
\fBjubaconv\fP simulates the internal behavior of fv_converter and displays the result of conversion on the command\-line.
.sp
As \fBjubaconv\fP only processes 1 record, \fBglobal_weight\fP of string feature extraction rules (\fBstring_rules\fP) will not be calculated.
Use \&../api/api_weight if you need a simulation including \fBglobal_weight\fP\&.
.SS Options
.INDENT 0.0
.IP \(bu 2
\fB[]\fP indicates the default value.
.UNINDENT
.INDENT 0.0
.TP
.B \-i <format>, \-\-input\-format <format>
Format of the input. [json]
.sp
\fB<format>\fP must be one of \fBdatum\fP or \fBjson\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-o <format>, \-\-output\-format <format>
Format of the output. [fv]
.sp
\fB<format>\fP must be one of \fBfv\fP, \fBdatum\fP or \fBjson\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-c <config>, \-\-conf <config>
Jubatus server configuration file in JSON.
.sp
This option must be given only if \fBfv\fP is specified for \fI\%\-o\fP\&.
.UNINDENT
.INDENT 0.0
.IP \(bu 2
.INDENT 2.0
.TP
.B Note: If the input format is \fBjson\fP, we have to add a slash symbol \fB/\fP at the start of \fBkey\fP in jubatus server config files.
.INDENT 7.0
.IP \(bu 2
If the input format is \fBdatum\fP: \fB"num_rules" : [{"key": "number", "type": "num"}]\fP
.IP \(bu 2
If the input format is \fBjson\fP:  \fB"num_rules" : [{"key": "/number", "type": "num"}]\fP
.UNINDENT
.UNINDENT
.UNINDENT
.SH FILE FORMATS
.SS Input
.sp
Supported formats are \fBdatum\fP and \fBjson\fP\&.
See the Examples section for details.
.INDENT 0.0
.IP \(bu 2
\fBdatum\fP is a Datum\-styled JSON data structure.
The root must have 3 keys (\fBstring_values\fP, \fBnum_values\fP and \fBbinary_values\fP), and whose values must be a flat object, whose keys are string and values are string (for \fBstring_values\fP and \fBbinary_values\fP) or integer/float (for \fBnum_values\fP).
.IP \(bu 2
\fBjson\fP is an arbitrary JSON data structure.
JSON data structure will be flatten to key\-value format by joining keys with \fB/\fP separator.
.UNINDENT
.SS Output
.sp
Supported formats are \fBfv\fP, \fBdatum\fP and \fBjson\fP\&.
.INDENT 0.0
.IP \(bu 2
\fBfv\fP prints the feature vectors extracted from the input record by fv_converter.
.IP \(bu 2
\fBdatum\fP prints the input record converted to Datum as Datum\-styled JSON data structure.
.IP \(bu 2
\fBjson\fP pretty\-prints the input record without any conversion.
This can only be used if the input format is \fBjson\fP\&.
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ cat data.json
{ "message": "hello world", "age": 31 }

$ jubaconv \-i json \-o fv \-c /opt/jubatus/share/jubatus/example/config/classifier/pa.json < data.json
/message$hello world@str#bin/bin: 1
/age@num: 31

$ cat datum.json
{
  "string_values": {
    "hello": "world"
  },
  "num_values": {
    "age": 31
  },
  "binary_values": {
  }
}

$ jubaconv \-i datum \-o fv \-c /opt/jubatus/share/jubatus/example/config/classifier/pa.json < datum.json
hello$world@str#bin/bin: 1
age@num: 31
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHOR
PFN & NTT
.SH COPYRIGHT
2011-2017 PFN & NTT
.\" Generated by docutils manpage writer.
.
